<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:avalonia="https://github.com/projektanker/icons.avalonia"
             xmlns:pages="clr-namespace:R2CSharp"
             xmlns:models="clr-namespace:R2CSharp.Models"
             xmlns:views="clr-namespace:R2CSharp.Views"
             x:Class="R2CSharp.PageView"
             x:DataType="pages:PageViewModel">
    
    <UserControl.Styles>
        <Style Selector="Button">
            <Setter Property="Background" Value="#4E4E4E" />
            <Setter Property="Foreground" Value="White" />
            <Setter Property="BorderBrush" Value="#3E3E3E" />
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="CornerRadius" Value="4" />
        </Style>
        <Style Selector="Button:pressed">
            <Setter Property="Background" Value="#151515" />
            <Setter Property="BorderBrush" Value="#5A5A5A" />
        </Style>
    </UserControl.Styles>
    
    <Grid>
        <Grid IsVisible="{Binding IsLoading}">
            <Border Background="#80000000" />
            <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                <avalonia:Icon Value="fa-solid fa-spinner" 
                              Width="48" Height="48"
                              Foreground="#4EC9B0" />
                <TextBlock Text="Loading boot options..." 
                          HorizontalAlignment="Center" 
                          Margin="0,16,0,0"
                          Foreground="White" />
            </StackPanel>
        </Grid>
        
        <Grid IsVisible="{Binding !IsLoading}">
            <Carousel Name="MainCarousel" Background="Transparent">
                <Carousel.PageTransition>
                    <PageSlide Duration="0:0:0.3" />
                </Carousel.PageTransition>
                
                <!-- Individual Carousel Pages -->
                <views:StandardPageView DataContext="{Binding Pages[0]}" />
                <views:StandardPageView DataContext="{Binding Pages[1]}" />
                <views:StandardPageView DataContext="{Binding Pages[2]}" />
                <views:StandardPageView DataContext="{Binding Pages[3]}" />
            </Carousel>
            
            <!-- Navigation Controls -->
            <StackPanel Orientation="Horizontal" 
                        HorizontalAlignment="Center" 
                        VerticalAlignment="Bottom" 
                        Margin="0,0,0,15"
                        Background="Transparent">
                <Button Content="◀" 
                        Command="{Binding #MainCarousel.Previous}" 
                        Margin="0,0"
                        Width="40" Height="30"
                        Background="#4E4E4E"
                        Foreground="White"
                        BorderBrush="#3E3E3E" />
                <Button Content="▶" 
                        Command="{Binding #MainCarousel.Next}" 
                        Margin="5,0"
                        Width="40" Height="30"
                        Background="#4E4E4E"
                        Foreground="White"
                        BorderBrush="#3E3E3E" />
            </StackPanel>
        </Grid>
    </Grid>
</UserControl>