<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:avalonia="https://github.com/projektanker/icons.avalonia"
             xmlns:controls="clr-namespace:R2CSharp.Controls"
             xmlns:viewModels="clr-namespace:R2CSharp.ViewModels"
             x:Class="R2CSharp.Views.CarouselPageView"
             x:DataType="viewModels:CarouselPageViewModel">
    
    <UserControl.Styles>
        <Style Selector="Button">
            <Setter Property="Background" Value="{StaticResource ButtonDefaultBackground}" />
            <Setter Property="Foreground" Value="{StaticResource PrimaryText}" />
            <Setter Property="BorderBrush" Value="{StaticResource NavigationButtonBorder}" />
            <Setter Property="BorderThickness" Value="1" />
            <Setter Property="CornerRadius" Value="4" />
        </Style>
        <Style Selector="Button:pressed">
            <Setter Property="Background" Value="{StaticResource ButtonPressedBackground}" />
            <Setter Property="BorderBrush" Value="{StaticResource ButtonPressedBorder}" />
        </Style>
    </UserControl.Styles>
    
    <Grid>
        <Grid IsVisible="{Binding IsLoading}">
            <Border Background="{StaticResource OverlayBackground}" />
            <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                <avalonia:Icon Value="fa-solid fa-spinner" 
                              Width="48" Height="48"
                              Foreground="{StaticResource DefaultThemeColor}" />
                <TextBlock Text="Loading boot options..." 
                          HorizontalAlignment="Center" 
                          Margin="0,16,0,0"
                          Foreground="{StaticResource PrimaryText}" />
            </StackPanel>
        </Grid>
        
        <Grid IsVisible="{Binding !IsLoading}">
            <controls:CarouselControl Name="MainCarousel" 
                      IsEnabled="True"
                      IsHitTestVisible="True"
                      HorizontalAlignment="Stretch"
                      VerticalAlignment="Stretch"
                      Focusable="False" />
            
            <!-- Navigation Controls -->
            <StackPanel Orientation="Vertical" 
                        Background="Transparent"
                        Spacing="75"
                        HorizontalAlignment="Left"
                        VerticalAlignment="Center"
                        Margin="20,0,0,0">
                <Button Name="PreviousButton"
                        Click="OnPreviousButtonClick"
                        Width="40" Height="40"
                        Background="{StaticResource NavigationButtonBackground}"
                        Foreground="{Binding ThemeColor}"
                        BorderBrush="{Binding ThemeColor}"
                        BorderThickness="1"
                        CornerRadius="30"
                        Cursor="Hand"
                        Focusable="False"
                        IsTabStop="False"
                        IsVisible="{Binding CanGoPrevious}">
                    <Button.Styles>
                        <Style Selector="Button:hover">
                            <Setter Property="Background" Value="{StaticResource ButtonSelectedBackground}"/>
                            <Setter Property="BorderBrush" Value="{Binding ThemeColor}"/>
                            <Setter Property="Foreground" Value="{Binding ThemeColor}"/>
                            <Setter Property="RenderTransform" Value="scale(1.1)"/>
                        </Style>
                        <Style Selector="Button:pressed">
                            <Setter Property="Background" Value="{StaticResource NavigationButtonPressedBackground}"/>
                            <Setter Property="BorderBrush" Value="{Binding ThemeColor}"/>
                            <Setter Property="Foreground" Value="{Binding ThemeColor}"/>
                            <Setter Property="RenderTransform" Value="scale(0.95)"/>
                        </Style>
                    </Button.Styles>
                        <Button.Content>
                        <avalonia:Icon Value="fa-solid fa-chevron-up" FontSize="14" />
                    </Button.Content>
                </Button>
                <Button Name="NextButton"
                        Click="OnNextButtonClick"
                        Width="40" Height="40"
                        Background="{StaticResource NavigationButtonBackground}"
                        Foreground="{Binding ThemeColor}"
                        BorderBrush="{Binding ThemeColor}"
                        BorderThickness="1"
                        CornerRadius="30"
                        Cursor="Hand"
                        Focusable="False"
                        IsTabStop="False"
                        IsVisible="{Binding CanGoNext}">
                    <Button.Styles>
                        <Style Selector="Button:hover">
                            <Setter Property="Background" Value="{StaticResource ButtonSelectedBackground}"/>
                            <Setter Property="BorderBrush" Value="{Binding ThemeColor}"/>
                            <Setter Property="Foreground" Value="{Binding ThemeColor}"/>
                            <Setter Property="RenderTransform" Value="scale(1.1)"/>
                        </Style>
                        <Style Selector="Button:pressed">
                            <Setter Property="Background" Value="{StaticResource NavigationButtonPressedBackground}"/>
                            <Setter Property="BorderBrush" Value="{Binding ThemeColor}"/>
                            <Setter Property="Foreground" Value="{Binding ThemeColor}"/>
                            <Setter Property="RenderTransform" Value="scale(0.95)"/>
                        </Style>
                    </Button.Styles>
                    <Button.Content>
                        <avalonia:Icon Value="fa-solid fa-chevron-down" FontSize="14" />
                    </Button.Content>
                </Button>
            </StackPanel>
        </Grid>
    </Grid>
</UserControl>